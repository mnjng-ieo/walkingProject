<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/defaultLayout}">
<head>
<meta charset="UTF-8">
	<title>홈페이지</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script type="text/javascript" src="/js/board/common.js"></script>
</head>
<body>
<th:block layout:fragment="Content">
	<div class="main-section">
		<!-- main - 검색창 -->
		<div class="main border" style="height: 700px; background-image: url('/images/common/main_img.jpg'); 
										background-size: cover; background-position:center;">
			<div class="d-flex justify-content-center" style="height: 100%">
				<div class="d-flex align-items-center" style="width: 55%;">	
				  
					<!-- 검색창 & 검색 버튼 -->
					<div class="d-flex" style="width: 100%" >
					
				    	<!-- 검색창 --> 
				    	<form th:action="@{/searchList}" method="get" id="searchForm" 
				    			class="search input-group flex-nowrap justify-content-center mx-2">
							<input type="text" name="keyword" id="searchKeyword" 
								class="form-control" 
								placeholder="검색하세요" aria-label="검색하세요" aria-describedby="addon-wrapping">
							<button type="submit" class="btn btn-primary mx-2">검색</button>
						</form>
				    	
					</div>
				</div>
			</div>	
		</div> <!-- main - 검색창 끝 -->
		
		
		<!-- 좋아요 순 BEST 3 : 카드 형식으로 출력 -->
		<h3 class="mt-5" style="margin-left: 198px;">가장 인기있는 산책로 BEST 3</h3>
		<!-- 산책로 목록 카드 ; 검색 결과를 표시할 영역-->
	    <div class="container course-lists" >
	        <div class="row">
	            <div class="col-4" th:each="item : ${courses}">
	                <div class="card course-list"
	                     th:onclick="'redirectToCourseDetails(' + ${item.courseId} + ')'">
	                    <!-- 예정 : Course에 추가할 coursImg. 현재 default만 설정 -->
	                    <img class="card-img-top course-list_imgBox" 
	                         src="/images/course/defaultCourseImg.png" alt="산책로 사진" />
	                    <div class="card-body course-list_textbox">
	                        <div class="course-list_titlebox">
	                            <div class="row course-list_title">
	                                <!-- 산책로 이름 - 큰이름과 작은이름이 서로 같으면 큰 이름만 출력 되도록 
			                             하려면 th:if="${item.wlkCoursNm} != ${item.wlkCoursFlagNm}" 붙이기 -->
			                        <h5 class="col-10 card-title course-list_big-title" 
			                            th:text="${item.wlkCoursFlagNm}">
			                            산책로 큰이름</h5>
			                        <!-- 산책로 난이도 -->
	                                <p class="col-3 rounded-pill badge text-center course-list_level"
	                                   th:classappend="${item.coursLevelNm == '매우쉬움' ? ' bg-primary' : 
	                                                     item.coursLevelNm == '쉬움' ? ' bg-info' : 
	                                                     item.coursLevelNm == '보통' ? ' bg-success' : 
	                                                     item.coursLevelNm == '어려움' ? ' bg-warning' : 
	                                                     item.coursLevelNm == '매우어려움' ? ' bg-danger' : ''}"
	                                   th:text="${item.coursLevelNm}">난이도</p>
	                            </div>
	                            <div>
			                        <!-- 산책로 큰이름과 작은 이름이 같은 경우 고려할 때
	                                <h5 class="card-text"
	                                    th:if="${item.wlkCoursNm} == ${item.wlkCoursFlagNm}"
	                                    >&nbsp;</h5> -->
	                                <h3 class="card-text course-list_small-title" 
	                                    th:text="${item.wlkCoursNm}">산책로 작은이름</h3>
			                    </div>
	                        </div>
	                        
	                        <!-- 지역 -->
	                        <p class="card-text course-list_region" 
	                           th:text="${item.signguCn}">지역</p>
	                        <!-- "코스거리" | "소요시간"시간 분 소요 -->
	                        <p class="card-text course-list_distance">
	                            <span th:text="${item.coursDetailLtCn}">총코스거리</span>km |  
	                            <span th:text="${#dates.format(item.coursTimeCn, 'H시간 mm분 소요')}">
	                             소요 시간</span>
	                        </p>
	                        <!-- 산책로 설명 : 일정 길이 넘어가면 ... 로 축약되도록 -->
	                        <p class="card-text course-list_aditDc" 
	                           th:text="${#strings.length(item.aditDc) &gt; 70 ? 
	                                    #strings.substring(item.aditDc, 0, 70) + '...' 
	                                    : item.aditDc}">산책로 설명
	                        </p>
	                        <!-- 예정 : 좋아요 수 / 언급 수 / 댓글 수 -->
	                        <p class="card-text">
	                            <img class="heart-icon"
	                                 src="/images/heart-click.png" alt="좋아요" />
	                            <span th:text="${item.likeCnt}">좋아요 수</span>개 언급
	                            <span th:text="${item.mentionCnt}">언급 수</span>개 댓글
	                            <span th:text="${item.commentCnt}">댓글 수</span>개
	                        </p>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div> <!-- 좋아요 순 BEST 3 : 카드 형식으로 출력 -->
		
		<!-- 해시태그 출력-->
		<div class="container p-3 mt-5 rounded-4 border border-3" style="height: 200px;">
	    	<!-- 가장 많이 사용된 태그 메인화면에 출력하기 -->
	        <h3 class="border mt-1 mx-4 mb-3">지금 핫한 해시태그</h3>
	        <div class = "row">
	            <div class = "p-2 col-lg-2 d-flex flex-wrap justify-content-center" 
	                 th:each="hotTag : ${hotTagList}">
	                <a class="btn btn-outline-success rounded-4"
	                   style = "width: 130px; height: 40px;"
	                   th:href="@{/searchBoard/{tagContent}(tagContent = ${hotTag})}"
	                   th:text = "${hotTag}" role="button">핫한 해시태그</a>              
	            </div>
	        </div>
    	</div> 	<!-- 해시태그 출력 끝-->
    	 
	</div> <!-- main 화면 끝 --> 
</th:block>
</body>
</html>