<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/defaultLayout}"
	  layout:fragment="Content">
<head>
<meta charset="UTF-8">
	<title>특정 해시태그가 포함된 게시물 리스트</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

</head>
<body>
	
<div class="container">
	<!-- 검색하여 나오는 게시물 목록 페이지 -->
    <h5>해시태그 클릭 시 나오는 페이지</h5>
    
    <!-- 테이블로 게시물 목록 출력 -->
    <table class="table">
      <thead>
        <tr>
          <th scope="col">글 번호</th>
	      <th scope="col">게시물</th>
	      <th scope="col">댓글 수</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr th:each="tagBoard : ${tagBoardList}">
	      <td>
	        <span th:text = "${tagBoard.boardId}">글 번호</span>
	      </td>
	      <td>
	        <div class = "first fs-4" th:text = "${#strings.length(tagBoard.boardTitle) &gt; 50 ? 
	               #strings.substring(tagBoard.boardTitle, 0, 50) + '...' : tagBoard.boardTitle}">글 제목</div>
	        <div class = "second d-flex">
                <p class="border rounded-circle m-1" style="width: 30px; height: 30px;">
                    <img src = "/images/userimg.png" class="img-thumbnail"/>
                </p>
                <div class="m-2" th:text = "${tagBoard.userNickname}">작성자 닉네임</div>
	        </div>
	        
	        <div class  ="third d-flex text-secondary">
                <div class="m-1" th:text = "|date ${#dates.format(tagBoard.boardCreatedDate, 'yyyy-MM-dd')}|">작성일자</div>
            	<div class="m-1" th:text = "|in ${tagBoard.boardType}|">카테고리</div>
            	<p class="m-1" style="width: 20px; height: 20px;">
                    <img src = "/images/view.png" class="img-fluid"/>
                </p>
            	<div class="m-1" th:text = "${tagBoard.boardViewCount}">조회수</div>
            	<p class="m-1" style="width: 20px; height: 20px;">
                    <img src = "/images/like.png" class="img-fluid"/>
                </p>
            	<div class="m-1" th:text = "${tagBoard.likeCnt}">좋아요 수</div>
	        </div>

          </td>
	      <td>
	        <span th:text = "${tagBoard.commentCnt}">댓글 수</span>
          </td>  
	    </tr>
	  </tbody>
	</table>

    <!-- 페이지 넘기기 뷰 & 기능 -->
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <li class="page-item" id="pagePrev" th:if="${currentPage > 1}" >
          <a class="page-link" 
             th:href="@{/searchBoard/{tagContent}(tagContent = ${tagContent}, page=${currentPage - 2})}">Previous</a>
        </li>
        <li class="page-item disabled" id="pagePrev" th:unless="${currentPage > 1}" >
          <a class="page-link">Previous</a>
        </li>
        
        <th:block th:each=" page : ${#numbers.sequence(pageStart, pageEnd)} ">
        <li th:if="${page == currentPage}" class="page-item active">
            <a class="page-link" 
                th:href="@{/searchBoard/{tagContent}(tagContent = ${tagContent}, page=${page - 1})}">[[${page}]]</a>
        </li>
        <li th:unless="${page == currentPage}" class="page-item">
            <a class="page-link" 
                th:href="@{/searchBoard/{tagContent}(tagContent = ${tagContent}, page=${page - 1})}">[[${page}]]</a>
        </li>
        </th:block>
            
        <li class="page-item" id="pageNext" th:if="${currentPage < pageEnd}" >
          <a class="page-link" 
            th:href="@{/searchBoard/{tagContent}(tagContent = ${tagContent}, page=${currentPage})}">Next</a>
        </li>   
        <li class="page-item disabled" id="pageNext" th:unless="${currentPage < pageEnd}" >
          <a class="page-link">Next</a>
        </li>   
            
      </ul>
    </nav>

</div>

<script>

</script>
</body>
</html>